[
  {
    "id": 1,
    "stepNo": 1,
    "parent_id": null,
    "type": "receive",
    "description": "New message received",
    "message": {
      "key": "P_chatbot_checkNewMessageReceived",
      "params": []
    },
    "fn": "checkNewMessageReceived"
  },
  {
    "id": 2,
    "stepNo": 2,
    "parent_id": [1],
    "type": "send",
    "description": "Not registered",
    "message": {
      "key": "P_chatbot_notRegistered",
      "params": [
        "contacts_url"
      ]
    },
    "fn": "notRegistered"
  },
  {
    "id": 3,
    "stepNo": 3,
    "parent_id": [1],
    "type": "send",
    "description": "Has order but no draft",
    "message": {
      "key": "P_chatbot_hasOrderNoDraft",
      "params": [
        "pharmacy_name",
        "track_order_url",
        "create_order_url",
        "contacts_url"
      ]
    },
    "fn": "hasOrderNoDraft"
  },
  {
    "id": 4,
    "stepNo": 4,
    "parent_id": [1],
    "type": "send",
    "description": "No order and no draft",
    "message": {
      "key": "P_chatbot_noOrderNoDraft",
      "params": [
        "pharmacy_name",
        "create_order_url",
        "contacts_url"
      ]
    },
    "fn": "noOrderNoDraft"
  },
  {
    "id": 5,
    "stepNo": 5,
    "parent_id": [3, 4, 12, 16],
    "type": "send",
    "description": "Verify entered product name",
    "message": {
      "key": "P_chatbot_newMessage_VerifyProductName",
      "params": []
    },
    "fn": "newMessage_VerifyProductName"
  },
  {
    "id": 6,
    "stepNo": 6,
    "parent_id": [5],
    "type": "receive",
    "description": "Invalid product name",
    "message": {
      "key": "P_chatbot_verifyProductName_InvalidName",
      "params": []
    },
    "fn": "verifyProductName_InvalidName"
  },
  {
    "id": 7,
    "stepNo": 7,
    "parent_id": [5],
    "type": "send",
    "description": "Product name matches many products",
    "message": {
      "key": "P_chatbot_verifyProductName_NameWithManyProducts",
      "params": [
        "products"
      ]
    },
    "fn": "verifyProductName_NameWithManyProducts"
  },
  {
    "id": 8,
    "stepNo": 8,
    "parent_id": [5],
    "type": "send",
    "description": "Product name valid but not exists in the order",
    "message": {
      "key": "P_chatbot_verifyProductName_ValidNameButNotExistsInOrder",
      "params": []
    },
    "fn": "verifyProductName_ValidNameButNotExistsInOrder"
  },
  {
    "id": 9,
    "stepNo": 9,
    "parent_id": [5],
    "type": "send",
    "description": "Product name valid and exists in the order",
    "message": {
      "key": "P_chatbot_verifyProductName_ValidNameAndExistsInOrder",
      "params": [
        "products_count"
      ]
    },
    "fn": "verifyProductName_ValidNameAndExistsInOrder"
  },
  {
    "id": 10,
    "stepNo": 10,
    "parent_id": [8, 9],
    "type": "send",
    "description": "Invalid entered number of boxes",
    "message": {
      "key": "P_chatbot_verifyNumber_InvalidNumber",
      "params": []
    },
    "fn": "verifyNumber_InvalidNumber"
  },
  {
    "id": 11,
    "stepNo": 11,
    "parent_id": [8, 9],
    "type": "send",
    "description": "Change the product",
    "message": {
      "key": "P_chatbot_verifyNumber_ChangeProduct",
      "params": []
    },
    "fn": "verifyNumber_ChangeProduct"
  },
  {
    "id": 12,
    "stepNo": 12,
    "parent_id": [11],
    "type": "receive",
    "description": "Enter the new product name",
    "message": {
      "key": "P_chatbot_enterNewProductName",
      "params": []
    },
    "fn": "enterNewProductName"
  },
  {
    "id": 13,
    "stepNo": 13,
    "parent_id": [11],
    "type": "receive",
    "description": "No change in product name",
    "message": {
      "key": "P_chatbot_noChangeInProductName",
      "params": []
    },
    "fn": "noChangeInProductName"
  },
  {
    "id": 14,
    "stepNo": 14,
    "parent_id": [13],
    "type": "send",
    "description": "Enter notes",
    "message": {
      "key": "P_chatbot_enterNotes",
      "params": []
    },
    "fn": "enterNotes"
  },
  {
    "id": 15,
    "stepNo": 15,
    "parent_id": [14],
    "type": "send",
    "description": "Review order",
    "message": {
      "key": "P_chatbot_reviewOrder",
      "params": [
        "products"
      ]
    },
    "fn": "reviewOrder"
  },
  {
    "id": 16,
    "stepNo": 16,
    "parent_id": [15, 20],
    "type": "receive",
    "description": "Edit order",
    "message": {
      "key": "P_chatbot_editOrder",
      "params": []
    },
    "fn": "editOrder"
  },
  {
    "id": 17,
    "stepNo": 17,
    "parent_id": [16],
    "type": "receive",
    "description": "Don't add new",
    "message": {
      "key": "P_chatbot_doNotAddNew",
      "params": [
        "products"
      ]
    },
    "fn": "doNotAddNew"
  },
  {
    "id": 18,
    "stepNo": 18,
    "parent_id": [16],
    "type": "receive",
    "description": "Add new",
    "message": {
      "key": "P_chatbot_addNewProductName",
      "params": []
    },
    "fn": "addNewProductName"
  },
  {
    "id": 19,
    "stepNo": 19,
    "parent_id": [15, 20],
    "type": "send",
    "description": "Confirm order",
    "message": {
      "key": "P_chatbot_confirmOrder",
      "params": [
        "track_order_url"
      ]
    },
    "fn": "confirmOrder"
  },
  {
    "id": 20,
    "stepNo": 20,
    "parent_id": [1],
    "type": "send",
    "description": "No order but has draft",
    "message": {
      "key": "P_chatbot_noOrderButHasDraft",
      "params": [
        "pharmacy_name",
        "contact_url",
        "create_order_url",
        "track_order_url",
        "products"
      ]
    },
    "fn": "noOrderButHasDraft"
  },
  {
    "id": 21,
    "stepNo": 21,
    "parent_id": null,
    "type": "send",
    "description": "Send supplier offer to client",
    "message": {
      "key": "P_chatbot_sendSupplierOfferToClient",
      "params": [
        "pharmacy_name",
        "order_code",
        "order_cost",
        "offer_url"
      ]
    },
    "fn": "sendSupplierOfferToClient"
  },
  {
    "id": 22,
    "stepNo": 22,
    "parent_id": null,
    "type": "send",
    "description": "Send rating order request",
    "message": {
      "key": "P_chatbot_sendRatingOrderRequest",
      "params": [
        "pharmacy_name",
        "order_code",
        "offer_url"
      ]
    },
    "fn": "sendRatingOrderRequest"
  }
]